function ajax(e){function t(){200==a.status?e.success(a.responseText):e.error(a.status,a.statusText)}var n,a=new XMLHttpRequest,o=e.url,s=e.method,r=e.async;void 0!=e.data&&(n=params(e.data),"get"===s&&(o+=o.indexOf("?")==-1?"?"+n:"&"+n)),r===!0&&(a.onreadystatechange=function(){4==a.readyState&&t()}),a.open(s,o,r),"post"===s?(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!=n&&a.send(n)):a.send(null),r===!1&&t()}function params(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}