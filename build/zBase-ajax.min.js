function ajax(e){function n(){200==o.status?e.success(o.responseText):e.error(o.status,o.statusText)}var t,o=new XMLHttpRequest,a=e.url,s=e.method,r=e.async;void 0!=e.data&&(t=params(e.data),"get"===s&&(a+=a.indexOf("?")==-1?"?"+t:"&"+t)),r===!0&&(o.onreadystatechange=function(){4==o.readyState&&n()}),console.log(".......url........"+a),o.open(s,a,r),"post"===s?(o.setRequestHeader("Content-Typr","application/x-www-form-urlencoded"),void 0!=t&&o.send(t)):o.send(null),r===!1&&n()}function params(e){var n=[];for(var t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}